<stc-global-header></stc-global-header>

<header class="p-4">
  <mat-chip-listbox *rxLet="selectedCategory$; let selectedCategory" (change)="onCategoryChange($event.value)">
    <mat-chip-option *ngFor="let category of categories$ | async" [value]="category" [selected]="category === selectedCategory">
      {{category}}
    </mat-chip-option>
  </mat-chip-listbox>
</header>
<main class="flex flex-wrap gap-6 relative">
  <stc-loader *rxIf="'categories' | isLoading"></stc-loader>
  <mat-card *ngFor="let product of productsInCategory$ | async">
    <img mat-card-image [src]="product.image" height="200" width="300" alt="Photo of a {{product.title}}">
    <mat-card-header>
      <mat-card-title>{{product.title}}</mat-card-title>
      <mat-card-subtitle>{{product.price | currency}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p class="description">
        {{product.description}}
      </p>
    </mat-card-content>
<!--    <mat-card-actions>-->
<!--      <button mat-button>LIKE</button>-->
<!--      <button mat-button>SHARE</button>-->
<!--    </mat-card-actions>-->
  </mat-card>

</main>
